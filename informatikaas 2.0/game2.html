<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    canvas {
      background:url(achtergrond.PNG);

    }

    .instructies{
      float: right;
      margin-right: 50px;
    }
  </style>
</head>
<body>
<script>
  var ally;
  var german;
  var builtWall;
  var previewWall;

  var allyStun=0;
  var germanStun=0;

  var allySpeed = 6;
  var germanSpeed = 5;

  var wall;

  var allyEquip;


  <!-- To start the game, making the characters.-->
  function startGame() {
    wall = [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];

    allyEquip = true;

    myGameArea.start();
    german = new Characters(50, 50, "pop2.png", 817, 596, 1);
    ally = new Characters(50, 50, "pop1.png", 99, 180, 2);
  }

  var myGameArea = {
    canvas : document.createElement("canvas"),
    start : function() {
      this.canvas.width = 959;
      this.canvas.height = 648;
      this.context = this.canvas.getContext("2d");
      document.body.insertBefore(this.canvas, document.body.childNodes[0]);
      this.interval = setInterval(update, 20);

      window.addEventListener('keydown', function (e) {
        myGameArea.keys = (myGameArea.keys || []);
        myGameArea.keys[e.keyCode] = (e.type == "keydown");
      })
      window.addEventListener('keyup', function (e) {
        myGameArea.keys[e.keyCode] = (e.type == "keydown");
      })
    },
    clear : function(){
      this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }
  }

  function Characters(width, height, picture, x, y, player) {
    this.width = width;
    this.height = height;
    this.speedX = 0;
    this.speedY = 0;
    this.x = x;
    this.y = y;

    this.player = player;
    this.update = function() {
      this.foto = new Image();
      this.foto.src = picture;
      ctx = myGameArea.context;
      ctx.drawImage(this.foto, this.x, this.y, this.width, this.height);
    }
    this.newPos = function() {
      if (this.x >= 0 && this.speedX == -allySpeed && player == 2|| this.x >= 0 && this.speedX == -germanSpeed && player == 1|| this.x <= 909 && this.speedX == germanSpeed && player == 1 || this.x <= 909 && this.speedX == 6 && player == 2){
        this.x += this.speedX;
      }
      if ((this.y >= 0 && this.speedY == -allySpeed && this.player == 2) || (this.y <= 598 && this.speedY == germanSpeed && this.player == 1) || ( this.y <= 313 && this.speedY == allySpeed && this.player == 2) || (this.y >= 390 && this.speedY == -germanSpeed && this.player == 1)){
        this.y += this.speedY;
      }
    }
  }

  function Muur(x, y, width, height){
    this.x = x;
    this.y = y;
    this.width = width;
    this.height = height
    this.update = function(){
      this.foto = new Image();
      this.foto.src = "blok spel.png";
      ctx = myGameArea.context;
        ctx.drawImage(this.foto, this.x, this.y, this.width, this.height);
    }
  }

  function MuurPreview(x, y, width, height){
    this.x = x;
    this.y = y;
    this.width = width;
    this.height = height
    this.update = function(){
      this.foto = new Image();
      this.foto.src = "blok spel.png";
      ctx = myGameArea.context;
      ctx.globalAlpha = 0.3;
      ctx.drawImage(this.foto, this.x, this.y, this.width, this.height);
      ctx.globalAlpha = 1;
    }
  }

  function update() {
    myGameArea.clear();
    ally.speedX = 0;
    ally.speedY = 0;
    german.speedX = 0;
    german.speedY = 0;

    //Movement for the German.
    if (myGameArea.keys && myGameArea.keys[100] && germanStun == 0) {german.speedX = -germanSpeed;}
    if (myGameArea.keys && myGameArea.keys[102] && germanStun == 0) {german.speedX = germanSpeed;}
    if (myGameArea.keys && myGameArea.keys[104] && germanStun == 0) {german.speedY = -germanSpeed;}
    if (myGameArea.keys && myGameArea.keys[101] && germanStun == 0) {german.speedY = germanSpeed;}

    //Movement for the Ally
    if (myGameArea.keys && myGameArea.keys[87] && allyStun == 0) {ally.speedY = -allySpeed;}
    if (myGameArea.keys && myGameArea.keys[83] && allyStun == 0) {ally.speedY = allySpeed;}
    if (myGameArea.keys && myGameArea.keys[65] && allyStun == 0) {ally.speedX = -allySpeed;}
    if (myGameArea.keys && myGameArea.keys[68] && allyStun == 0) {ally.speedX = allySpeed;}

    //Checking what of the wall is built.
    for(i=0; i<2; i++){
      for(j=0; j<8; j++){
        var ex=119.875 * j;
        var wy= 300 + (43*i);
        if(wall[i][j] == "1") {
          builtWall = new Muur(ex, wy, 119.875, 41);
          builtWall.update();
        }
      }
    }
    if(ally.y >= 260){
      var pX = Math.floor((ally.x+16)/119.875);
      var pY;
      if(wall[0][pX] == "1") {
        pY = 343;
      } else {
        pY = 300;
      }
      previewWall = new MuurPreview(pX * 119.875, pY, 119.875, 41);
      previewWall.update();
    }

    ally.newPos();
    ally.update();
    german.newPos();
    german.update();
  }


  startGame();
</script>
<div class = "instructies">
  <p>
    Instructies
    <br>
    <br>
    Zorg ervoor dat je de Num Lock toetsen kan gebruiken!!!
  <p>
    Controls:
  <p>
    geallyerden (Boven)
    <br>
    Naar boven: W
    <br>
    Naar links: A
    <br>
    Naar rechts: D
    <br>
    Naar onder: S
    <br>
    Steen oppakken en plaatsen: "spatie"
  <p>
    Axis (Onder)
    <br>
    Naar boven: 8 (num lock)
    <br>
    Naar links: 4 (num lock)
    <br>
    Naar rechts: 6 (num lock)
    <br>
    Naar onder: 5 (num lock)
    <br>
    oppakken:  + (num lock)
    <br>
    Gooien:  "enter" (num lock)
</div>
</body>
</html>